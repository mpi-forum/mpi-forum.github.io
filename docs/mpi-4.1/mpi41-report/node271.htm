<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-dynamic/dynamic-2-rendered -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi4-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi41-report-html.idx -basedef mpi4defs.txt -o mpi41-report.tex mpi-report.tex 
-->
<title>The Sessions Model</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h1><span id="Node271">12.3. The Sessions Model</span></h1>
<a href="node270.htm#Node270"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node264.htm#Node264"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node272.htm#Node272"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node264.htm#Node264"> Process Initialization, Creation, and Management</a>
<b>Next: </b><a href="node272.htm#Node272"> Session Creation and Destruction Methods</a>
<b>Previous: </b><a href="node270.htm#Node270"> Allowing User Functions at <font face="sans-serif"> MPI</font> Finalization</a>
<p>
  
<P> 
There are a number of limitations with the World Model described  
in the preceding section.  Among these are the following:  
<font face="sans-serif"> MPI</font> cannot be initialized  
from different application components without <em> a priori</em> knowledge or coordination;  
<font face="sans-serif"> MPI</font> cannot be initialized more than once; and <font face="sans-serif"> MPI</font> cannot be reinitialized after <font face="sans-serif"> MPI_FINALIZE</font> has been called.  
This section describes an alternative approach to <font face="sans-serif"> MPI</font> initialization---the Sessions Model.  
With this approach, an <font face="sans-serif"> MPI</font> application, or components of the application, can instantiate <font face="sans-serif"> MPI</font> resources  
for the specific communication needs of this component.  <font face="sans-serif"> MPI_COMM_WORLD</font> is not valid for use as a communicator.  
<font face="sans-serif"> MPI_INFO_ENV</font> is not valid for use as an info object when only using the Sessions Model.  
As described in Section <a href="node267.htm#Node267">Starting <font face="sans-serif"> MPI</font> Processes</a>, <font face="sans-serif"> MPI</font> must be initialized using the World Model to use this info object.  
Note that an application may employ both the Sessions Model and World Model concurrently (see Section <a href="node265.htm#Node265">Introduction</a>).  
<P> 
In the Sessions Model, <font face="sans-serif"> MPI</font> resources can be allocated and freed multiple times in an <font face="sans-serif"> MPI</font> process.  
<P> 
As shown in Figure <a href="node271.htm#Figure25">25</a>, when using the Sessions Model,  
an <font face="sans-serif"> MPI</font> process instantiates an <b> MPI Session handle</b>, which can be used  
to query the runtime system about characteristics of the job within which the process is running, as well  
as other system resources. Using this information, the <font face="sans-serif"> MPI</font> process can then create an <font face="sans-serif"> MPI</font> Group based on  
application requirements and available resources, which in turn can be used to create an <font face="sans-serif"> MPI</font> Communicator, Window, or File.  
By judicious creation of communicators, an application only needs to allocate <font face="sans-serif"> MPI</font> resources based on its  
communication requirements.  Although there are existing <font face="sans-serif"> MPI</font> interfaces for creating communicators that can,  
in principle, allow for resource optimizations within an <font face="sans-serif"> MPI</font> implementation, this can only be done following  
initialization of <font face="sans-serif"> MPI</font>.  
<P> 
For multithreaded applications, the Sessions Model provides fine-grain control of the thread support level for <font face="sans-serif"> MPI</font> objects.  It is possible to specify different thread support levels  
when creating different  
<em> MPI Session handles</em>.  
Thus different components of an application can use different thread support levels.  
<P> 
The Sessions Model introduces a concept of isolation.  
<font face="sans-serif"> MPI</font> objects derived from different  
<em> MPI Session handles</em>  
shall not be intermixed with each other in  
a single <font face="sans-serif"> MPI</font> procedure call.  
<font face="sans-serif"> MPI</font> objects derived from the Sessions Model shall not be intermixed in a single <font face="sans-serif"> MPI</font> procedure call with <font face="sans-serif"> MPI</font> objects derived from the World Model.  
<font face="sans-serif"> MPI</font> objects derived from the Sessions Model shall not be intermixed in a single <font face="sans-serif"> MPI</font> procedure call with  
<font face="sans-serif"> MPI</font> objects derived from the communicator obtained from a call to <font face="sans-serif"> MPI_COMM_GET_PARENT</font> or <font face="sans-serif"> MPI_COMM_JOIN</font>.  
<P> 
This restriction does not apply to generalized requests (Section <a href="node345.htm#Node345">Generalized Requests</a>) as such requests are not associated directly with communicators or other <font face="sans-serif"> MPI</font> objects.  
Note however, the Sessions Model does not otherwise change the semantics or behavior of <font face="sans-serif"> MPI</font> objects.  
<P> 
  <div style="text-align:center"><P><img width=1156 height=1253 src="session_flow.gif" alt="Image file"><P>
</div>  
  <br> 
<b>Figure 25: </b><span id="Figure25">Steps to creating an <font face="sans-serif"> MPI</font> Communicator from an <font face="sans-serif"> MPI</font> Session handle.</span><P> 
  
    
<ul> 
</ul> 

<P>
<hr>
<a href="node270.htm#Node270"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node264.htm#Node264"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node272.htm#Node272"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node264.htm#Node264"> Process Initialization, Creation, and Management</a>
<b>Next: </b><a href="node272.htm#Node272"> Session Creation and Destruction Methods</a>
<b>Previous: </b><a href="node270.htm#Node270"> Allowing User Functions at <font face="sans-serif"> MPI</font> Finalization</a>
<p>
<HR>
Return to <A HREF="node601.htm">MPI-4.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-4.1 of November 2, 2023<BR>
HTML Generated on November 19, 2023
</FONT>
</body>
</html>
