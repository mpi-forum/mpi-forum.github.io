<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-one-side/one-side-2-rendered -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi4-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi41-report-html.idx -basedef mpi4defs.txt -o mpi41-report.tex mpi-report.tex 
-->
<title>Assertions</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node332">13.5.5. Assertions</span></h2>
<a href="node331.htm#Node331"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node327.htm#Node327"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node333.htm#Node333"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node327.htm#Node327"> Synchronization Calls</a>
<b>Next: </b><a href="node333.htm#Node333"> Miscellaneous Clarifications</a>
<b>Previous: </b><a href="node331.htm#Node331"> Flush and Sync</a>
<p>
  
  
<P> 
The <font face="sans-serif"> assert</font> argument in the calls   
<font face="sans-serif"> MPI_WIN_POST</font>, <font face="sans-serif"> MPI_WIN_START</font>,  
<font face="sans-serif"> MPI_WIN_FENCE</font>,  
<font face="sans-serif"> MPI_WIN_LOCK</font>, and <font face="sans-serif"> MPI_WIN_LOCK_ALL</font> is  
used to provide assertions on the context of the call that may be used  
to optimize performance.  The <font face="sans-serif"> assert</font> argument does not change  
program semantics if it provides correct information on the program---it  
is erroneous to provide incorrect information.  Users  
may always provide  
<font face="sans-serif"> assert</font><font face="sans-serif">  = 0</font> to indicate a general case where no guarantees are made.  
<P> 
 
<br> 
<em> Advice to users.</em>  
<P> 
Many implementations may not take advantage of the information in  
<font face="sans-serif"> assert</font>; some of the information is relevant only for  
noncoherent shared memory machines.  Users  
should consult their implementation's manual   
to  
find which information is useful on each system. On the other hand,  
applications that provide correct  
assertions whenever applicable are portable and will  
take advantage of assertion specific optimizations whenever available.  
 (<em> End of advice to users.</em>) <br> 
 
<br> 
<em> Advice  
        to implementors.</em>  
<P> 
Implementations can always ignore the <font face="sans-serif"> assert</font> argument.  
Implementors should  
document which <font face="sans-serif"> assert</font> values are significant on their  
implementation.  
 (<em> End of advice to implementors.</em>) <br> 
<font face="sans-serif"> assert</font> is the bit vector <font face="sans-serif"> OR</font> of zero or more of the following  
integer constants:  
<font face="sans-serif"> MPI_MODE_NOCHECK</font>, <font face="sans-serif"> MPI_MODE_NOSTORE</font>,  
<font face="sans-serif"> MPI_MODE_NOPUT</font>,  
<font face="sans-serif"> MPI_MODE_NOPRECEDE</font>, and <font face="sans-serif"> MPI_MODE_NOSUCCEED</font>.  
The significant options are listed below for each synchronization procedure.  
<P> 
 
<br> 
<em> Advice to users.</em>  
<P> 
C/C++ users can use bit vector <font face="sans-serif"> OR</font> (<img width=1 height=22 src="img381.gif" alt="Image file">
) to combine these constants;  
Fortran 90 users  
can use the bit vector <tt>IOR</tt> intrinsic.  
Alternatively, Fortran users can  
portably use integer addition to <font face="sans-serif"> OR</font> the constants (each constant should  
appear at most once in the addition).  
 (<em> End of advice to users.</em>) <br> 
<dl> 
 
<dt> 
<b></b><font face="sans-serif"> MPI_WIN_START</font>:</b><dd> 
&nbsp;&nbsp;&nbsp;  
<dl> 
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOCHECK</font>:</b><dd> 
the  
matching calls to <font face="sans-serif"> MPI_WIN_POST</font> have  
already completed on all target processes when the call to  
<font face="sans-serif"> MPI_WIN_START</font> is made.  
This option can be  
specified in a start call if and only if it is specified in each  
matching post call.  
This is similar to the optimization  
of ``ready-send'' that may save a handshake when the handshake is  
implicit in the code.  
However, ready-send is matched by a regular receive, whereas  
both start and post must specify the <font face="sans-serif"> MPI_MODE_NOCHECK</font> option.  
</dl> 
<br> 
 
<dt> 
<b></b><font face="sans-serif"> MPI_WIN_POST</font>:</b><dd> 
&nbsp;&nbsp;&nbsp;  
<dl> 
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOCHECK</font>:</b><dd> 
the  
matching calls to <font face="sans-serif"> MPI_WIN_START</font>  
have not yet occurred  
on any origin processes when the call to  
<font face="sans-serif"> MPI_WIN_POST</font> is made.  
This option can be specified by a post call if and only if it  
is specified by each matching start call.  
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOSTORE</font>:</b><dd> 
the  
local window was not updated by  
stores (or get or receive operations) since the  
last synchronization.  This may avoid  
the need for cache synchronization during the post call.  
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOPUT</font>:</b><dd> 
the  
local window will not be updated by  
put or accumulate  
operations after the post call, until the ensuing (wait) synchronization.  
This may avoid the need for cache synchronization during the wait call.  
</dl> 
<br> 
 
<dt> 
<b></b><font face="sans-serif"> MPI_WIN_FENCE</font>:</b><dd> 
&nbsp;&nbsp;&nbsp;  
<dl> 
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOSTORE</font>:</b><dd> 
the  
local window was not updated by  
stores (or get or receive operations) since the last synchronization.  
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOPUT</font>:</b><dd> 
the  
local window will not be updated  
by put or accumulate operations after  
the fence call, until the ensuing (fence) synchronization.  
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOPRECEDE</font>:</b><dd> 
the  
fence does not complete any  
sequence of <font face="sans-serif"> RMA</font> operations initiated by the calling <font face="sans-serif"> MPI</font> process.  If this assertion is given by  
any <font face="sans-serif"> MPI</font> process in the group of the window, then it must be given by all  
<font face="sans-serif"> MPI</font> processes in the group.   
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOSUCCEED</font>:</b><dd> 
the  
fence does not start any sequence  
of <font face="sans-serif"> RMA</font> operations initiated by the calling <font face="sans-serif"> MPI</font> process.  If the assertion is given by any <font face="sans-serif"> MPI</font> process  
in the group of the window, then it must be given by all <font face="sans-serif"> MPI</font> processes in the group.  
</dl> 
<br> 
 
<dt> 
<b></b><font face="sans-serif"> MPI_WIN_LOCK</font>, <font face="sans-serif"> MPI_WIN_LOCK_ALL</font>:</b><dd> 
&nbsp;&nbsp;&nbsp;  
<dl> 
 
<dt> 
<b><font face="sans-serif"> MPI_MODE_NOCHECK</font>:</b><dd> 
no  
other <font face="sans-serif"> MPI</font> process holds, or will attempt  
to acquire, a  
conflicting lock, while the calling <font face="sans-serif"> MPI</font> process holds the window lock.   This is useful  
when  
mutual exclusion is achieved by other means, but the coherence operations  
that  
may be attached to the lock and unlock calls are still required.  
</dl> 
<br> 
</dl> 
<br> 
 
<br> 
<em> Advice to users.</em>  
<P> 
The <font face="sans-serif"> MPI_MODE_NOSTORE</font> and <font face="sans-serif"> MPI_MODE_NOPRECEDE</font> options provide  
information on what happened <em> before</em>  
the call; the <font face="sans-serif"> MPI_MODE_NOPUT</font> and <font face="sans-serif"> MPI_MODE_NOSUCCEED</font>  
options provide information on what will happen <em> after</em> the call.  
 (<em> End of advice to users.</em>) <br> 

<P>
<hr>
<a href="node331.htm#Node331"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node327.htm#Node327"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node333.htm#Node333"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node327.htm#Node327"> Synchronization Calls</a>
<b>Next: </b><a href="node333.htm#Node333"> Miscellaneous Clarifications</a>
<b>Previous: </b><a href="node331.htm#Node331"> Flush and Sync</a>
<p>
<HR>
Return to <A HREF="node601.htm">MPI-4.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-4.1 of November 2, 2023<BR>
HTML Generated on November 19, 2023
</FONT>
</body>
</html>
